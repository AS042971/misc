<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>

<body>
  <input style="width: 100%;" type="text" id="cover" placeholder="视频BV号，如 BV1K24y1X757"></input>
  <input style="width: 100%;" type="text" id="jumpURL" placeholder="实际跳转链接（任意外站链接，完整地址），如 https://www.baidu.com/"></input>
  <button id="execButton">生成诈骗链接并复制</button>
  <a href="https://xiaojuzi.fun/bili-short-url/">生成短链接</a>
  <br>
  <label style="width: 100%;" id="result"></label>
</body>

<script>
  const execButton = document.getElementById("execButton");
  const coverBox = document.getElementById("cover");
  const jumpBox = document.getElementById("jumpURL");
  const resultLabel = document.getElementById("result")

  execButton.onclick = async function () {
    const coverBV = coverBox.value;
    const jumpURL = jumpBox.value;

    const part = encodeURIComponent('{"edit":false,"url":"' + jumpURL + '"}');
    const result = 'https://www.bilibili.com/video/' + coverBV + '?auto_float_layer=2&auto_float_layer_extra=' + part;

    resultLabel.innerHTML = result;
    await navigator.clipboard.writeText(result);
  }
</script>

</html>